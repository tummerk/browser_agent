# Browser Agent

Browser Agent - —ç—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π –∞–≥–µ–Ω—Ç –Ω–∞ Go, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ò–ò –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–µ–±-—Å–∞–π—Ç–∞–º–∏. –ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º, –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–∞–π—Ç–∞–º –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ, –ø—Ä–æ—Å—Ç–æ –ø–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –æ–ø–∏—Å–∞–Ω–∏—é –∑–∞–¥–∞—á–∏.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **AI-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —è–∑—ã–∫–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ (GPT, Claude, Groq, OpenRouter –∏ –¥—Ä.) –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ —á–µ—Ä–µ–∑ go-rod
- **ReAct –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–∏–∫–ª Observe-Think-Act –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è**: –ö–ª–∏–∫, –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞, –ø—Ä–æ–∫—Ä—É—Ç–∫–∞, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –Ω–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à
- **–£–º–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ DOM**: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å ID —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö LLM**: –°–æ–≤–º–µ—Å—Ç–∏–º —Å OpenAI, Anthropic, Groq, OpenRouter –∏ –¥—Ä—É–≥–∏–º–∏ API
- **Stealth —Ä–µ–∂–∏–º**: –û–±—Ö–æ–¥–∏—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ—Ç–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

- `internal/browser/`: –°–µ—Ä–≤–∏—Å –±—Ä–∞—É–∑–µ—Ä–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- `internal/agent/`: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Ü–∏–∫–ª ReAct
- `internal/llm/`: –ö–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å LLM API
- `internal/config/`: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env —Ñ–∞–π–ª–∞
- `internal/entity/`: –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –¥–µ–π—Å—Ç–≤–∏–π
- `cmd/app/`: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.21 –∏–ª–∏ –≤—ã—à–µ
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- API-–∫–ª—é—á –æ—Ç LLM (OpenAI, Claude, Groq –∏ —Ç.–¥.)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd browser-agent
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
go mod tidy
```

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```bash
cp .env.example .env
```

4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env` —Ñ–∞–π–ª–µ:
```env
API_KEY=your_api_key_here
MODEL=qwen/qwen3-32b
URL=https://api.groq.com/openai/v1/
```

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:
- **OpenAI**: `URL=https://api.openai.com/v1/`, `MODEL=gpt-4o`
- **Anthropic via Bedrock**: `URL=https://bedrock-runtime.us-east-1.amazonaws.com`, `MODEL=anthropic.claude-3-sonnet-20240229-v1:0`
- **Groq**: `URL=https://api.groq.com/openai/v1/`, `MODEL=llama3-70b-8192`
- **OpenRouter**: `URL=https://openrouter.ai/api/v1/`, `MODEL=google/gemini-flash-1.5`
- **–°ustom OpenAI-compatible**: –õ—é–±–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API

## –ó–∞–ø—É—Å–∫

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
go run cmd/app/main.go
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ:
```
==================================================
ü§ñ AGENT ONLINE. –ë—Ä–∞—É–∑–µ—Ä –≥–æ—Ç–æ–≤ –∫ –∫–æ–º–∞–Ω–¥–∞–º.
   (–í–≤–µ–¥–∏—Ç–µ 'exit', 'quit' –∏–ª–∏ Ctrl+C –¥–ª—è –≤—ã—Ö–æ–¥–∞)
==================================================
```

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∑–∞–¥–∞—á–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
- "–ù–∞–π–¥–∏ –º–Ω–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏ Nike Air Max –Ω–∞ Wildberries"
- "–ü–µ—Ä–µ–π–¥–∏ –Ω–∞ —Å–∞–π—Ç booking.com –∏ –Ω–∞–π–¥–∏ –æ—Ç–µ–ª—å –≤ –ú–æ—Å–∫–≤–µ –Ω–∞ 3 –¥–Ω—è"
- "–ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ example.com"

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

–ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

- `click(id)`: –ö–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID
- `type(id, text)`: –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ–ª–µ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID
- `scroll(direction)`: –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (up/down)
- `navigate(url)`: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π URL
- `press(key)`: –ù–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏ (enter, escape, tab –∏ –¥—Ä.)
- `go_back()`: –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- `read_text(id)`: –ß—Ç–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–∞
- `done(result)`: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **Observe**: –ê–≥–µ–Ω—Ç —Å–∫–∞–Ω–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ —Å–æ–∑–¥–∞–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ DOM —Å ID —ç–ª–µ–º–µ–Ω—Ç–æ–≤
2. **Think**: –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –∑–∞–¥–∞—á–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
3. **Act**: LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –æ —Å–ª–µ–¥—É—é—â–µ–º –¥–µ–π—Å—Ç–≤–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ –∞–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç
4. **Repeat**: –¶–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∏–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ —à–∞–≥–æ–≤

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ DOM:
```
Visible Content:
[1] <h1> Welcome to Example Site </h1>
[2] <p> This is a sample paragraph with information. </p>
[3] <input type='text'> [SEARCH INPUT]
[4] <button> Search </button>
[5] <a> About Us </a>
[6] <button> {‚úì CHECKED} Submit </button>
[7] <input type='checkbox'> ‚òê unchecked
[8] <div> {‚òÖ ACTIVE} Featured Item </div>
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- `API_KEY`: API-–∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ LLM
- `MODEL`: –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: gpt-3.5-turbo)
- `URL`: URL API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: https://api.groq.com/openai/v1/)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –∏–∑–æ–ª—è—Ü–∏–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```bash
go run cmd/browser_test/advanced_main.go
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **Persistent Session**: –ë—Ä–∞—É–∑–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–µ—Å—Å–∏–∏ –≤ –ø–∞–ø–∫–µ `user_data`
- **Stealth Mode**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è go-rod/stealth –¥–ª—è –æ–±—Ö–æ–¥–∞ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ—Ç–æ–≤
- **Element Caching**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **Timeout Handling**: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–º–µ—é—Ç —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏—è
- **Multi-tab Support**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤–∫–ª–∞–¥–∫–∞–º–∏
- **Visual Feedback**: –≠–ª–µ–º–µ–Ω—Ç—ã –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á

–ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –∑–∞–¥–∞—á:

- –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–∞—Ö
- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–∞–π—Ç–∞–º —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤ –∏ –æ—Ç–µ–ª–µ–π
- –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
